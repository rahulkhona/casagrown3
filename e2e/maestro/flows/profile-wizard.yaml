# Profile Wizard Flow â€” Maestro E2E test
# Tests the profile setup wizard for new users.
# The seeded seller user may have already completed the wizard,
# so all wizard-specific steps are conditional.

appId: dev.casagrown.community

---

# Login first
- runFlow: ../utils/login.yaml

# If the wizard shows, step through it
- runFlow:
        when:
              visible: "Let's Get You Set Up"
        commands:
              # Fill in wizard step 1 (profile setup)
              - tapOn: "Continue"

              # Wait for community step
              - extendedWaitUntil:
                      visible: "Find Community"
                      timeout: 10000
              - tapOn: "Continue"

              # Wait for intro step
              - extendedWaitUntil:
                      visible: "Introduce Yourself"
                      timeout: 10000
              - tapOn: "Continue"

# After wizard (or if skipped), should see the feed
- extendedWaitUntil:
        visible: "Tomatoes"
        timeout: 15000

# Verify regular feed content
- assertVisible: "Test Seller"
